"use strict";var v=Object.create;var m=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var R=(t,a)=>{for(var o in a)m(t,o,{get:a[o],enumerable:!0})},p=(t,a,o,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let e of b(a))!x.call(t,e)&&e!==o&&m(t,e,{get:()=>a[e],enumerable:!(n=y(a,e))||n.enumerable});return t};var S=(t,a,o)=>(o=t!=null?v(k(t)):{},p(a||!t||!t.__esModule?m(o,"default",{value:t,enumerable:!0}):o,t)),$=t=>p(m({},"__esModule",{value:!0}),t);var F={};R(F,{default:()=>f});module.exports=$(F);var r=require("@raycast/api");var u=require("@raycast/api"),d=require("child_process"),g=require("fs/promises"),h=require("path");async function l({paths:t}){let a=(0,h.join)(u.environment.assetsPath,"remove-background");return await(0,g.chmod)(a,"755"),await new Promise((n,e)=>{(0,d.exec)(`${a} ${t.map(s=>JSON.stringify(s)).join(" ")}`,(s,c,w)=>{s&&e(c+" "+w),n(c)})})}var i=S(require("path"));async function f(){try{let t=await(0,r.getSelectedFinderItems)();if(t.length===0)return;await(0,r.showToast)({style:r.Toast.Style.Animated,title:"Removing background"}),await l({paths:t.map(o=>o.path)}),await(0,r.showHUD)("Removed background from image");let a=t.map(o=>{let n=i.default.extname(o.path),e=i.default.basename(o.path,n);return i.default.resolve(i.default.dirname(o.path),`${e}-background-removed${n}`)});await(0,r.showInFinder)(a[0]),await(0,r.closeMainWindow)()}catch(t){console.error(t),await(0,r.showToast)({style:r.Toast.Style.Failure,title:"Error removing background",message:t.message})}}
